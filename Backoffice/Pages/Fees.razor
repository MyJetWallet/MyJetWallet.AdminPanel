@using Backoffice.Components.Fees.Assets
@using Backoffice.Components.Fees.Instruments
@using Backoffice.Components.Fees.Balance
@using Backoffice.Components.Fees.Settings

@page "/Fees"

<ul class="nav nav-tabs nav-pills">
    <li class="nav-item" style="margin: 10px">
        <button class="nav-link @CheckActive(Menus.Settings)" aria-current="page" @onclick="SetSettings">Default settings</button>
    </li>
    <li class="nav-item" style="margin: 10px">
        <button class="nav-link @CheckActive(Menus.Assets)" aria-current="page" @onclick="SetAssets">Assets</button>
    </li>
    <li class="nav-item" style="margin: 10px">
        <button class="nav-link @CheckActive(Menus.Instruments)" aria-current="page" @onclick="SetInstruments">Instruments</button>
    </li>
    <li class="nav-item" style="margin: 10px">
        <button class="nav-link @CheckActive(Menus.Balance)" aria-current="page" @onclick="SetBalance">Fee wallet balance</button>
    </li>
</ul>

<div style="margin: 10px">
    @if (ActivePage == Menus.Settings)
    {
        <FeesSettingsListComponent/>
    }
    @if (ActivePage == Menus.Assets)
    {
        <AssetFeesListComponent/>
    }
    @if (ActivePage == Menus.Instruments)
    {
        <InstrumentFeesListComponent/>
    }
    @if (ActivePage == Menus.Balance)
    {
        <FeesBalanceComponent/>
    }
</div>

@code {
    private Menus ActivePage { get; set; } = Menus.Settings;

    private string CheckActive(Menus target)
    {
        if (ActivePage == target)
            return "active";

        return "";
    }

    private void SetActive(Menus page)
    {
        ActivePage = page;
        StateHasChanged();
    }

    public enum Menus
    {
        None,
        Settings,
        Assets,
        Instruments,
        Balance
    }

    private void SetSettings()
    {
        SetActive(Menus.Settings);
        StateHasChanged();
    }

    private void SetAssets()
    {
        SetActive(Menus.Assets);
        StateHasChanged();
    }

    private void SetInstruments()
    {
        SetActive(Menus.Instruments);
        StateHasChanged();
    }

    private void SetBalance()
    {
        SetActive(Menus.Balance);
        StateHasChanged();
    }

}